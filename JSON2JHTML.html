<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>JSON2JHTML test</title>
</head>
<body>
<p>See also this <a href="index.html">demo</a> on conversion from JHTML (into JSON).</p>
<script type="module">
/* eslint-disable yoda -- Easier to view */
import * as JHTML from './src/jhtml.js';
import {write, validateAndWrite, elementFromString} from './jhtml.testing.js';

write(null === JHTML.toJSONObject([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">null</i>')]));
write(true === JHTML.toJSONObject([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">true</i>')]));
write(4e5 === JHTML.toJSONObject([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">4e5</i>')]));
write('abc' === JHTML.toJSONObject([elementFromString('<span itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">abc</i>')]));
write(undefined === JHTML.toJSONObject([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">undefined</i>')], {mode: 'JavaScript'}));
write(Infinity === JHTML.toJSONObject([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">Infinity</i>')], {mode: 'JavaScript'}));
write(typeof JHTML.toJSONObject([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">function () {}</i>')], {mode: 'JavaScript'}) === 'function');

write('null' === JHTML.toJSONString([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">null</i>')]));
write('true' === JHTML.toJSONString([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">true</i>')]));
write('400000' === JHTML.toJSONString([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">4e5</i>')]));
write('"abc"' === JHTML.toJSONString([elementFromString('<span itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">abc</i>')]));
write('undefined' === JHTML.toJSONString([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">undefined</i>')], {mode: 'JavaScript'}));
write('Infinity' === JHTML.toJSONString([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">Infinity</i>')], {mode: 'JavaScript'}));
write('function anonymous() {\n\n}' === JHTML.toJSONString([elementFromString('<i itemscope="" itemtype="http://brett-zamir.me/ns/microdata/json-as-html/2">function () {}</i>')], {mode: 'JavaScript'}));

validateAndWrite(JHTML.toJHTMLDOM(null).outerHTML);

validateAndWrite(JHTML.toJHTMLString(null));
validateAndWrite(JHTML.toJHTMLString(true));
validateAndWrite(JHTML.toJHTMLString(4e5));
validateAndWrite(JHTML.toJHTMLString('abc'));
validateAndWrite(JHTML.toJHTMLString(undefined, {mode: 'JavaScript'}));
validateAndWrite(JHTML.toJHTMLString(Infinity, {mode: 'JavaScript'}));
validateAndWrite(JHTML.toJHTMLString(function () {}, {mode: 'JavaScript'}));

write('');
validateAndWrite(JHTML.toJHTMLString(['childItem', 'childWith"Dbl"Quotes']));
write('');
validateAndWrite(
  JHTML.toJHTMLString({a: null, b: true, c: 3, d: ['childItem', 'childWith"Dbl"Quotes'], e: {nested: true, another: false}, f: Infinity})
);
write('');
validateAndWrite(
  JHTML.toJHTMLString({a: null, b: true, c: 3, d: ['childItem', 'childWith"Dbl"Quotes'], e: {nested: true, another: false}, f: Infinity, g: undefined, h () {}}, {mode: 'JavaScript'})
);
</script>
</body>
</html>
